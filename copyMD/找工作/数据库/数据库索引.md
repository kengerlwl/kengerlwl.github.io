---
title: 数据库索引
top: false
cover: false
toc: true
mathjax: true
hidden: true
date: 2024-03-26 15:27:31
password:
summary:
tags:
- 数据库
categories:
- find JOB

---

## 索引介绍
索引是一种**用于快速查询和检索数据的数据结构**，其本质可以看成是一种排序好的数据结构。





## 聚簇索引

- **聚簇索引：将[数据存储](https://cloud.tencent.com/product/cdcs?from_column=20065&from=20065)与索引放到了一块，找到索引也就找到了数据**

聚簇索引需要具有唯一性，一般要根据这个表最常用的 SQL 查询方式来进行选择，某个字段作为聚簇索引，或组合聚簇索引。

聚簇索引默认是主键，如果表中没有定义主键，InnoDB 会选择一个唯一的非空索引代替。如果没有这样的索引，InnoDB 会隐式定义一个主键来作为聚簇索引。InnoDB 只聚集在同一个页面中的记录。包含相邻健值的页面可能相距甚远。



## 非聚簇索引

- 非聚簇索引：**将数据存储于索引分开结构，索引结构的叶子节点指向了数据的对应行，（相当于只是该列的索引，然后通过该索引找到主键的可以，再去聚簇索引找到目标数据行）**，myisam通过key_buffer把索引先缓存到内存中，当需要访问数据时（通过索引访问数据），在内存中直接搜索索引，然后通过索引找到磁盘相应数据，这也就是为什么索引不在key buffer命中时，速度慢的原因



## 聚簇二者区别

- 聚簇数据访问更快 ，因为`索引和数据保存在同一个B+树中`，因此从聚簇索引中获取数据比非聚簇索引更快。



## MySQL如何实现的索引机制？

> MySQL中索引分三类：B+树索引、Hash索引、全文索引





## **B+** **树和** **B** **树的差异：**

- **B+树中非叶子节点的关键字也会同时存在在子节点中**，并且是在子节点中所有关键字的最大值（或最小）。
- **B+树中非叶子节点仅用于索引，不保存数据记录**，跟记录有关的信息都放在叶子节点中。而B树中， 非叶子节点既保存索引，也保存数据记录 。
- **B+树中所有关键字都在叶子节点出现，叶子节点构成一个有序链表，支持顺序查找**，而且叶子节点本身按照关键字的大小从小到大顺序链接。

