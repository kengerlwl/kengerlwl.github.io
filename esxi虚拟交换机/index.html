<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>esxi 虚拟交换机 - Kenger`s Blog</title><meta name="Description" content="Hugo theme - LoveIt"><meta property="og:url" content="https://kengerlwl.github.io/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/">
  <meta property="og:site_name" content="Kenger`s Blog">
  <meta property="og:title" content="esxi 虚拟交换机">
  <meta property="og:description" content="虚拟交换机 添加管理标准虚拟交换机 一般虚拟交换机示意图 在vSphere的网络配置里，虚拟交换机分为 标准交换机（Virtual Standard Switch)（">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-03-06T15:27:31+00:00">
    <meta property="article:modified_time" content="2023-03-06T15:27:31+00:00">
    <meta property="article:tag" content="虚拟交换机">
    <meta property="article:tag" content="Esxi">
    <meta property="og:image" content="https://kengerlwl.github.io/logo.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://kengerlwl.github.io/logo.png">
  <meta name="twitter:title" content="esxi 虚拟交换机">
  <meta name="twitter:description" content="虚拟交换机 添加管理标准虚拟交换机 一般虚拟交换机示意图 在vSphere的网络配置里，虚拟交换机分为 标准交换机（Virtual Standard Switch)（">
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://kengerlwl.github.io/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/" /><link rel="prev" href="https://kengerlwl.github.io/tesla-t4-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" /><link rel="next" href="https://kengerlwl.github.io/linux%E6%8C%82%E8%BD%BD/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "esxi 虚拟交换机",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/kengerlwl.github.io\/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/kengerlwl.github.io\/images\/4.jpg",
                            "width":  1280 ,
                            "height":  720 
                        }],"genre": "posts","keywords": "虚拟交换机, esxi","wordcount":  1339 ,
        "url": "https:\/\/kengerlwl.github.io\/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA\/","datePublished": "2023-03-06T15:27:31+00:00","dateModified": "2023-03-06T15:27:31+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "kenger","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/kengerlwl.github.io\/images\/avatar.png",
                    "width":  1080 ,
                    "height":  1080 
                }},"author": {
                "@type": "Person",
                "name": "kenger"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Kenger`s Blog"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://kengerlwl.github.io/favicon-16x16.ico"
        data-srcset="https://kengerlwl.github.io/favicon-16x16.ico, https://kengerlwl.github.io/favicon-16x16.ico 1.5x, https://kengerlwl.github.io/favicon-16x16.ico 2x"
        data-sizes="auto"
        alt="https://kengerlwl.github.io/favicon-16x16.ico"
        title="https://kengerlwl.github.io/favicon-16x16.ico" /><span class="header-title-pre"> <i class='far' aria-hidden='true'></i></span>Kenger`s Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/"> 关于 </a><a class="menu-item" href="https://github.com/kengerlwl/kengerlwl.github.io" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a><a href="javascript:void(0);" class="menu-item language" title="选择语言">
                    <i class="fa fa-globe" aria-hidden="true"></i>                      
                    <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/" selected>简体中文</option></select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Kenger`s Blog"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://kengerlwl.github.io/favicon-16x16.ico"
        data-srcset="https://kengerlwl.github.io/favicon-16x16.ico, https://kengerlwl.github.io/favicon-16x16.ico 1.5x, https://kengerlwl.github.io/favicon-16x16.ico 2x"
        data-sizes="auto"
        alt="https://kengerlwl.github.io/favicon-16x16.ico"
        title="https://kengerlwl.github.io/favicon-16x16.ico" /><span class="header-title-pre"> <i class='far' aria-hidden='true'></i></span>Kenger`s Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/" title="">关于</a><a class="menu-item" href="https://github.com/kengerlwl/kengerlwl.github.io" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="选择语言">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/" selected>简体中文</option></select>
                </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">esxi 虚拟交换机</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://kengerlwl.github.io/" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>kenger</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E8%BF%90%E7%BB%B4/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>运维</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2023-03-06">2023-03-06</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;约 1339 字&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;预计阅读 3 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#添加管理标准虚拟交换机">添加管理标准虚拟交换机</a></li>
        <li><a href="#在一个标准虚拟交换机里我们可以设置三类连接类型">在一个标准虚拟交换机里，我们可以设置三类连接类型</a></li>
        <li><a href="#典型交换组拓补图demo">典型交换组拓补图demo</a></li>
        <li><a href="#分布式交换机">分布式交换机</a></li>
        <li><a href="#新建虚拟机时选择端口组">新建虚拟机时选择端口组</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="虚拟交换机">虚拟交换机</h1>
<h3 id="添加管理标准虚拟交换机">添加管理标准虚拟交换机</h3>
<p><strong>一般虚拟交换机示意图</strong></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/b465da262814a9dfac29e83fbee9483b.png"
        data-srcset="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/b465da262814a9dfac29e83fbee9483b.png, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/b465da262814a9dfac29e83fbee9483b.png 1.5x, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/b465da262814a9dfac29e83fbee9483b.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/b465da262814a9dfac29e83fbee9483b.png"
        title="img" /></p>
<p>在vSphere的网络配置里，虚拟交换机分为</p>
<ul>
<li>标准交换机（Virtual Standard Switch)（<strong>更常用</strong>）</li>
<li>分布式交换机(Virtual Distributed Switch)，</li>
</ul>
<p>进入vcsa集中管理界面</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/4a6d90a62dc0af6d89c1bb544c9f3566.png"
        data-srcset="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/4a6d90a62dc0af6d89c1bb544c9f3566.png, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/4a6d90a62dc0af6d89c1bb544c9f3566.png 1.5x, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/4a6d90a62dc0af6d89c1bb544c9f3566.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/4a6d90a62dc0af6d89c1bb544c9f3566.png"
        title="refs/heads/master/image-20230316154503385" /></p>
<h3 id="在一个标准虚拟交换机里我们可以设置三类连接类型">在一个标准虚拟交换机里，我们可以设置三类连接类型</h3>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https:////upload-refs/heads/master/refs/heads/master/images.jianshu.io/upload_refs/heads/master/refs/heads/master/images/9635611-366f1f1952a12f25.png?refs/heads/master/refs/heads/master/imageMogr2/auto-orient/strip%7crefs/heads/master/refs/heads/master/imageView2/2/w/1200/format/webp"
        data-srcset="https:////upload-refs/heads/master/refs/heads/master/images.jianshu.io/upload_refs/heads/master/refs/heads/master/images/9635611-366f1f1952a12f25.png?refs/heads/master/refs/heads/master/imageMogr2/auto-orient/strip%7crefs/heads/master/refs/heads/master/imageView2/2/w/1200/format/webp, https:////upload-refs/heads/master/refs/heads/master/images.jianshu.io/upload_refs/heads/master/refs/heads/master/images/9635611-366f1f1952a12f25.png?refs/heads/master/refs/heads/master/imageMogr2/auto-orient/strip%7crefs/heads/master/refs/heads/master/imageView2/2/w/1200/format/webp 1.5x, https:////upload-refs/heads/master/refs/heads/master/images.jianshu.io/upload_refs/heads/master/refs/heads/master/images/9635611-366f1f1952a12f25.png?refs/heads/master/refs/heads/master/imageMogr2/auto-orient/strip%7crefs/heads/master/refs/heads/master/imageView2/2/w/1200/format/webp 2x"
        data-sizes="auto"
        alt="https:////upload-refs/heads/master/refs/heads/master/images.jianshu.io/upload_refs/heads/master/refs/heads/master/images/9635611-366f1f1952a12f25.png?refs/heads/master/refs/heads/master/imageMogr2/auto-orient/strip|refs/heads/master/refs/heads/master/imageView2/2/w/1200/format/webp"
        title="img" /></p>
<p>虚拟交换机连接类型</p>
<ol>
<li>
<p><strong>VMkernel网络适配器，这种连接类型是ESXi用来主机管理（通常所说的ESXi管理口</strong>（<strong>一般是进入到esxi的那个ip分配））</strong>，vMotion，iSCSI，NFS等服务的流量使用的连接类型，我们可以把不同的服务分到不同的VMkernel适配器上，也可以分配到同一个VMkernel适配器上，一般简写成vmk0,vmk1&hellip;&hellip;VMkernel适配器需要分配IP地址，<strong>以vmk0作为主机管理端口为例，如它设置了IP地址192.168.1.50，我们就可以在局域网内通过192.168.1.50来管理这台ESXi主机。</strong></p>
</li>
<li>
<p><strong>虚拟机端口组/PortGroup，端口组可以理解成虚拟机和虚拟交换机之间连接的一种模板。或者说，是用来连接我们创建的虚拟机的接口</strong>，一般说来，虚拟机是将虚拟网卡连接到虚拟交换机上的端口组/PortGroup的一个端口上(想像成一台电脑的网线从物理网卡连接到了物理交换机上）来做网络交换（虚拟机使用直通的网络设备除外）。在创建端口组时还可以设置VLAN ID，这样同一个虚拟交换机下面还可以通过不同端口组来做VLAN隔离。</p>
</li>
</ol>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/6c6a92927024f65a88cca8d4fad7f22f.png"
        data-srcset="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/6c6a92927024f65a88cca8d4fad7f22f.png, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/6c6a92927024f65a88cca8d4fad7f22f.png 1.5x, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/6c6a92927024f65a88cca8d4fad7f22f.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/6c6a92927024f65a88cca8d4fad7f22f.png"
        title="refs/heads/master/image-20230316160845429" />端口组VLAN ID<strong>可以选择配置vlan</strong></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/483a5482a72bfe818bd9713cae7944b4.png"
        data-srcset="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/483a5482a72bfe818bd9713cae7944b4.png, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/483a5482a72bfe818bd9713cae7944b4.png 1.5x, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/483a5482a72bfe818bd9713cae7944b4.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/483a5482a72bfe818bd9713cae7944b4.png"
        title="refs/heads/master/image-20230316160910122" /></p>
<p>3.<strong>物理网络适配器，这是虚拟交换机和物理交换机连接的物理载体</strong>，桥梁。从示意图中，我们看到虚拟交换机中有一个端口（可以有多个）叫做上行链路/Uplink port，上行链路和物理网卡连接在一起，这个物理网卡在vSphere里可以标记为VMNIC, PNIC,UPLink，物理网卡作为连通虚拟网络和物理网络的桥梁，通常来说它本身不和IP地址绑定，所以当我们给ESXi主机分配IP时，并不是直接分配给了它的物理网卡，而是分配给了VMkernel适配器。</p>
<h3 id="典型交换组拓补图demo">典型交换组拓补图demo</h3>
<p>这就是一个很典型拓补图。这个图里面只有我们创建的虚拟机，</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/081b0e47cc682273bdbc4683d6e59043.png"
        data-srcset="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/081b0e47cc682273bdbc4683d6e59043.png, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/081b0e47cc682273bdbc4683d6e59043.png 1.5x, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/081b0e47cc682273bdbc4683d6e59043.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/081b0e47cc682273bdbc4683d6e59043.png"
        title="refs/heads/master/image-20230316160647651" /></p>
<h3 id="分布式交换机">分布式交换机</h3>
<p>为什么需要分布式交换机？：标准交换机不能集中管理</p>
<p><strong>标准交换机是通过ESXi主机来创建和管理的，这就意味着当你有多台ESXi主机时，你就要分别去每一台ESXi上创建标准交换机里的端口组等设置</strong>，可能这个工作量还不算什么，但是当一年之后你要去修改端口组，或者扩展端口组呢？</p>
<p>说明：</p>
<ul>
<li>分布式交换机不是在ESXi主机上创建的，而是vCenter。</li>
</ul>
<p><strong>里面的链路数目要根据自己这边有几个活跃的物理网卡进行选择</strong></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/b4bef61fe608766a8e15219a48b14ce7.png"
        data-srcset="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/b4bef61fe608766a8e15219a48b14ce7.png, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/b4bef61fe608766a8e15219a48b14ce7.png 1.5x, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/b4bef61fe608766a8e15219a48b14ce7.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/b4bef61fe608766a8e15219a48b14ce7.png"
        title="refs/heads/master/image-20230316154911509" /></p>
<p>如果重新安装了VCSA导致原来的分布式交换机不能更改配置了。<strong>那么可以从这里选择新建然后导入原有的配置</strong></p>
<h3 id="新建虚拟机时选择端口组">新建虚拟机时选择端口组</h3>
<p><strong>一般的虚拟机都是通过端口组连接到虚拟交换机的。这也是新建虚拟机时网络适配器需要选择的项</strong></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/3e35190c5875333184f560446d9e7eb6.png"
        data-srcset="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/3e35190c5875333184f560446d9e7eb6.png, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/3e35190c5875333184f560446d9e7eb6.png 1.5x, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/3e35190c5875333184f560446d9e7eb6.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/3e35190c5875333184f560446d9e7eb6.png"
        title="refs/heads/master/image-20230316161310257" /></p>
<p>最后，来看一个多台ESXi所连接的分布式交换机的拓扑图吧。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/4cc9c0ce047e4a7f0297631efeda56a4.png"
        data-srcset="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/4cc9c0ce047e4a7f0297631efeda56a4.png, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/4cc9c0ce047e4a7f0297631efeda56a4.png 1.5x, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/4cc9c0ce047e4a7f0297631efeda56a4.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/39867dfe28a5c1f5410ca5adb6389560/4cc9c0ce047e4a7f0297631efeda56a4.png"
        title="img" /></p>
<p><strong>左侧为端口组，我把vCenter（vcsa）自己单独放了一个端口组，把VMkernel（esxi）放在一个端口组，剩余VM（虚拟机）放在一个端口组。因为没有设置VLAN，实际上这几个端口组是可以互通的。</strong></p>
<h1 id="ref">ref</h1>
<p><a href="https://blog.51cto.com/wangchunhai/2506718" target="_blank" rel="noopener noreffer ">https://blog.51cto.com/wangchunhai/2506718</a></p>
<p><a href="https://www.jianshu.com/u/1a53fa3b0b2f" target="_blank" rel="noopener noreffer ">某系列</a></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2023-03-06</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/index.md" target="_blank">阅读原始文档</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://kengerlwl.github.io/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/" data-title="esxi 虚拟交换机" data-hashtags="虚拟交换机,esxi"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://kengerlwl.github.io/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/" data-hashtag="虚拟交换机"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Hacker News" data-sharer="hackernews" data-url="https://kengerlwl.github.io/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/" data-title="esxi 虚拟交换机"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://kengerlwl.github.io/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/" data-title="esxi 虚拟交换机"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://kengerlwl.github.io/esxi%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/" data-title="esxi 虚拟交换机"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E8%99%9A%E6%8B%9F%E4%BA%A4%E6%8D%A2%E6%9C%BA/">虚拟交换机</a>,&nbsp;<a href="/tags/esxi/">Esxi</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/tesla-t4-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="prev" rel="prev" title="tesla T4 深度学习环境搭建"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>tesla T4 深度学习环境搭建</a>
            <a href="/linux%E6%8C%82%E8%BD%BD/" class="next" rel="next" title="linux挂载">linux挂载<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="giscus" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://giscus.app">Giscus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.132.1">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://kengerlwl.github.io/" target="_blank">kenger</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":50},"comment":{"giscus":{"category":"Announcements","categoryId":"DIC_kwDOFA4dBM4Ce_0B","darkTheme":"github-dark","emitMetadata":"0","inputPosition":"bottom","lang":"zh-CN","lazyLoading":false,"lightTheme":"github-light","mapping":"pathname","reactionsEnabled":"1","repo":"kengerlwl/kengerlwl.github.io","repoId":"MDEwOlJlcG9zaXRvcnkzMzY0NjkyNTI="}},"search":{"algoliaAppID":"JCTYUNKA9R","algoliaIndex":"kenger","algoliaSearchKey":"3ef68664495033362b7df9cf5a3eee1e","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
