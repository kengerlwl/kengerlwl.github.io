<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>python八股题 - Kenger`s Blog</title><meta name="Description" content="Hugo theme - LoveIt"><meta property="og:url" content="https://kengerlwl.github.io/python%E5%85%AB%E8%82%A1%E9%A2%98/">
  <meta property="og:site_name" content="Kenger`s Blog">
  <meta property="og:title" content="python八股题">
  <meta property="og:description" content="TOSEE: 【建议收藏】50 道硬核的 Python 面试题.._python程序员面试题-CSDN博客 taizilongxu/interview_python: 关于Python的面试题 基础语法特性 列表（list）和元组（">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-30T15:27:31+00:00">
    <meta property="article:modified_time" content="2024-08-30T15:27:31+00:00">
    <meta property="article:tag" content="Python">
    <meta property="og:image" content="https://kengerlwl.github.io/logo.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://kengerlwl.github.io/logo.png">
  <meta name="twitter:title" content="python八股题">
  <meta name="twitter:description" content="TOSEE: 【建议收藏】50 道硬核的 Python 面试题.._python程序员面试题-CSDN博客 taizilongxu/interview_python: 关于Python的面试题 基础语法特性 列表（list）和元组（">
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://kengerlwl.github.io/python%E5%85%AB%E8%82%A1%E9%A2%98/" /><link rel="prev" href="https://kengerlwl.github.io/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%95%E5%B1%82%E5%85%AB%E8%82%A1/" /><link rel="next" href="https://kengerlwl.github.io/tokenizer%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8C%97/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "python八股题",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/kengerlwl.github.io\/python%E5%85%AB%E8%82%A1%E9%A2%98\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/kengerlwl.github.io\/images\/4.jpg",
                            "width":  1280 ,
                            "height":  720 
                        }],"genre": "posts","keywords": "python","wordcount":  6703 ,
        "url": "https:\/\/kengerlwl.github.io\/python%E5%85%AB%E8%82%A1%E9%A2%98\/","datePublished": "2024-08-30T15:27:31+00:00","dateModified": "2024-08-30T15:27:31+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "kenger","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/kengerlwl.github.io\/images\/avatar.png",
                    "width":  1080 ,
                    "height":  1080 
                }},"author": {
                "@type": "Person",
                "name": "kenger"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Kenger`s Blog"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://kengerlwl.github.io/favicon-16x16.ico"
        data-srcset="https://kengerlwl.github.io/favicon-16x16.ico, https://kengerlwl.github.io/favicon-16x16.ico 1.5x, https://kengerlwl.github.io/favicon-16x16.ico 2x"
        data-sizes="auto"
        alt="https://kengerlwl.github.io/favicon-16x16.ico"
        title="https://kengerlwl.github.io/favicon-16x16.ico" /><span class="header-title-pre"> <i class='far' aria-hidden='true'></i></span>Kenger`s Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/"> 关于 </a><a class="menu-item" href="https://github.com/kengerlwl/kengerlwl.github.io" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a><a href="javascript:void(0);" class="menu-item language" title="选择语言">
                    <i class="fa fa-globe" aria-hidden="true"></i>                      
                    <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/python%E5%85%AB%E8%82%A1%E9%A2%98/" selected>简体中文</option></select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Kenger`s Blog"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="https://kengerlwl.github.io/favicon-16x16.ico"
        data-srcset="https://kengerlwl.github.io/favicon-16x16.ico, https://kengerlwl.github.io/favicon-16x16.ico 1.5x, https://kengerlwl.github.io/favicon-16x16.ico 2x"
        data-sizes="auto"
        alt="https://kengerlwl.github.io/favicon-16x16.ico"
        title="https://kengerlwl.github.io/favicon-16x16.ico" /><span class="header-title-pre"> <i class='far' aria-hidden='true'></i></span>Kenger`s Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/" title="">关于</a><a class="menu-item" href="https://github.com/kengerlwl/kengerlwl.github.io" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="选择语言">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/python%E5%85%AB%E8%82%A1%E9%A2%98/" selected>简体中文</option></select>
                </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">python八股题</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://kengerlwl.github.io/" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>kenger</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/find-job/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Find JOB</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2024-08-30">2024-08-30</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;约 6703 字&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;预计阅读 14 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#python没有指针实际都是引用">python没有指针，实际都是引用</a></li>
    <li><a href="#python元类">python元类</a></li>
    <li><a href="#staticmethod和classmethod">@staticmethod和@classmethod</a></li>
    <li><a href="#python自省和java反射很像">Python自省（和java反射很像）</a></li>
    <li><a href="#python中单下划线和双下划线">Python中单下划线和双下划线</a></li>
    <li><a href="#python迭代器和生成器">python迭代器和生成器</a></li>
    <li><a href="#args-and-kwargs"><code>*args</code> and <code>**kwargs</code></a></li>
    <li><a href="#aop实现">AOP实现</a></li>
    <li><a href="#python一个类可以继承多个类继承查找顺序">python一个类可以继承多个类（继承查找顺序）</a></li>
    <li><a href="#__new__和__init__的区别"><code>__new__</code>和<code>__init__</code>的区别</a></li>
    <li><a href="#mro与super函数">MRO与super（）函数</a>
      <ul>
        <li><a href="#mro-示例">MRO 示例</a></li>
      </ul>
    </li>
    <li><a href="#单例">单例</a></li>
    <li><a href="#python的模块导入机制有缓存">python的模块导入机制（有缓存）</a></li>
    <li><a href="#作用域">作用域</a></li>
    <li><a href="#python解释器全局锁gil">python<em>解释器全局锁（GIL）</em></a></li>
    <li><a href="#python垃圾回收机制内存管理">Python垃圾回收机制(内存管理)</a>
      <ul>
        <li><a href="#引用计数">引用计数</a></li>
        <li><a href="#标记-清除">标记-清除</a></li>
        <li><a href="#分代技术">分代技术</a></li>
      </ul>
    </li>
    <li><a href="#python-list对象">python list对象</a></li>
    <li><a href="#python的is">Python的is</a></li>
    <li><a href="#readreadline和readlines">read,readline和readlines</a></li>
    <li><a href="#range-and-xrange">range and xrange</a></li>
    <li><a href="#super方法">super（）方法</a></li>
  </ul>

  <ul>
    <li><a href="#cpython缓存池">CPython缓存池</a></li>
    <li><a href="#闭包">闭包</a></li>
    <li><a href="#请解释python中with关键字的用法">请解释Python中with关键字的用法</a></li>
    <li><a href="#python-内存区域">python 内存区域</a>
      <ul>
        <li>
          <ul>
            <li><a href="#直接引用--间接应用">直接引用 &amp; 间接应用</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#可变数据类型于不可变数据类型">可变数据类型于不可变数据类型</a></li>
    <li><a href="#property注解">property注解</a></li>
    <li><a href="#4g内存读取8g大小文件">4G内存，读取8G大小文件</a></li>
    <li><a href="#python中为什么没有函数重载">Python中为什么没有函数重载?</a></li>
    <li><a href="#python和pypy的区别">Python和PyPy的区别</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="tosee">TOSEE:</h1>
<p><a href="https://blog.csdn.net/weixin_50829653/article/details/129384275" target="_blank" rel="noopener noreffer ">【建议收藏】50 道硬核的 Python 面试题.._python程序员面试题-CSDN博客</a></p>
<p><a href="https://github.com/taizilongxu/interview_python" target="_blank" rel="noopener noreffer ">taizilongxu/interview_python: 关于Python的面试题</a></p>
<h1 id="基础语法特性">基础语法特性</h1>
<ol>
<li><strong>列表（list）和元组（tuple）的区别</strong>：
<ul>
<li>列表是可变的，可以进行增删改操作。</li>
<li>元组是不可变的，一旦创建就不能修改。</li>
<li>列表使用方括号<code>[]</code>，元组使用圆括号<code>()</code>。</li>
<li>列表适合需要频繁修改的数据集合，元组适合不需要修改的数据集合。</li>
</ul>
</li>
<li><strong>如何进行字符串插值</strong>：
<ul>
<li>使用f-string：<code>f'Hello {name}'</code></li>
<li>使用<code>%</code>操作符：<code>'Hey %s %s' % (name, name)</code></li>
<li>使用<code>str.format()</code>方法：<code>'My name is {}'.format(name)</code></li>
</ul>
</li>
</ol>
<h2 id="python没有指针实际都是引用">python没有指针，实际都是引用</h2>
<p><strong>使用 <code>id</code> 函数查看引用</strong></p>
<p>你可以使用 <code>id</code> 函数来查看对象的内存地址，从而验证两个变量是否引用同一个对象。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">a = [1, 2, 3]
</span></span><span class="line"><span class="cl">b = a
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">print(id(a))  # 输出: 对象 a 的内存地址
</span></span><span class="line"><span class="cl">print(id(b))  # 输出: 与 a 相同的内存地址
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="python元类">python元类</h2>
<p>**类同样也是一种对象。是的，没错，就是对象。只要你使用关键字class，Python解释器在执行的时候就会创建一个对象。**下面的代码段：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&gt;&gt;&gt; class ObjectCreator(object):
</span></span><span class="line"><span class="cl">…       pass
</span></span><span class="line"><span class="cl">…
</span></span></code></pre></td></tr></table>
</div>
</div><p>将在内存中创建一个对象，名字就是ObjectCreator。<strong>这个对象（类）自身拥有创建对象（类实例）的能力，而这就是为什么它是一个类的原因。<strong>但是，它的</strong>本质仍然是一个对象</strong>，于是乎你可以对它做如下的操作：</p>
<ol>
<li>你可以将它赋值给一个变量</li>
<li>你可以拷贝它</li>
<li>你可以为它增加属性</li>
<li>你可以将它作为函数参数进行传递</li>
</ol>
<p><strong>使用 <code>type</code> 动态创建类</strong></p>
<p><code>type</code> 函数可以接受三个参数来创建一个新的类：</p>
<ol>
<li>类的名称（字符串）</li>
<li>父类的元组（你可以指定多个父类）</li>
<li>类的属性和方法的字典</li>
</ol>
<p>以下是一个示例，展示如何使用 <code>type</code> 动态创建一个类：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># 动态创建一个类
</span></span><span class="line"><span class="cl">MyClass = type(&#39;MyClass&#39;, (object,), {&#39;attr&#39;: 42, &#39;method&#39;: lambda self: &#39;Hello, World!&#39;})
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 创建类的实例
</span></span><span class="line"><span class="cl">instance = MyClass()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 访问属性和方法
</span></span><span class="line"><span class="cl">print(instance.attr)  # 输出: 42
</span></span><span class="line"><span class="cl">print(instance.method())  # 输出: Hello, World!
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="staticmethod和classmethod">@staticmethod和@classmethod</h2>
<p>继承：</p>
<ul>
<li>**<code>staticmethod</code>：静态方法不会被子类继承。**如果子类需要使用静态方法，它必须显式地定义或调用它。</li>
<li><code>classmethod</code>：类方法会被子类继承。子类可以重写类方法以实现不同的行为</li>
</ul>
<p>Python其实有3个方法,即静态方法(staticmethod),类方法(classmethod)和实例方法,如下:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">def foo(x):
</span></span><span class="line"><span class="cl">    print &#34;executing foo(%s)&#34;%(x)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">class A(object):
</span></span><span class="line"><span class="cl">    def foo(self,x):
</span></span><span class="line"><span class="cl">        print &#34;executing foo(%s,%s)&#34;%(self,x)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    @classmethod
</span></span><span class="line"><span class="cl">    def class_foo(cls,x):
</span></span><span class="line"><span class="cl">        print &#34;executing class_foo(%s,%s)&#34;%(cls,x)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    @staticmethod
</span></span><span class="line"><span class="cl">    def static_foo(x):
</span></span><span class="line"><span class="cl">        print &#34;executing static_foo(%s)&#34;%x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">a=A()
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="python自省和java反射很像">Python自省（和java反射很像）</h2>
<p>这个也是python彪悍的特性.</p>
<p>自省就是面向对象的语言所写的程序在运行时,所能知道对象的类型.简单一句就是运行时能够获得对象的类型.比如type(),dir(),getattr(),hasattr(),isinstance().</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">a = [1,2,3]
</span></span><span class="line"><span class="cl">b = {&#39;a&#39;:1,&#39;b&#39;:2,&#39;c&#39;:3}
</span></span><span class="line"><span class="cl">c = True
</span></span><span class="line"><span class="cl">print type(a),type(b),type(c) # &lt;type &#39;list&#39;&gt; &lt;type &#39;dict&#39;&gt; &lt;type &#39;bool&#39;&gt;
</span></span><span class="line"><span class="cl">print isinstance(a,list)  # True
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="python中单下划线和双下划线">Python中单下划线和双下划线</h2>
<ul>
<li><strong>单下划线 <code>_</code></strong>: 受保护的变量或方法，不建议类外部访问。</li>
<li><strong>双下划线 <code>__</code></strong>: 私有变量，触发名称改写，避免子类覆盖。</li>
<li><strong>前后缀双下划线 <code>__</code></strong>: 特殊方法或属性，由解释器使用。</li>
</ul>
<h2 id="python迭代器和生成器">python迭代器和生成器</h2>
<p>作用：</p>
<p><strong>可以边使用，边生成，不用一次性生成完</strong></p>
<p><strong>迭代器</strong></p>
<p><strong>迭代器是一个实现了迭代协议的对象。迭代协议包括两个方法：<code>__iter__()</code> 和 <code>__next__()</code>。</strong></p>
<p>你可以通过实现这两个方法来创建一个自定义迭代器。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">class MyIterator:
</span></span><span class="line"><span class="cl">    def __init__(self, data):
</span></span><span class="line"><span class="cl">        self.data = data
</span></span><span class="line"><span class="cl">        self.index = 0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    def __iter__(self):
</span></span><span class="line"><span class="cl">        return self
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    def __next__(self):
</span></span><span class="line"><span class="cl">        if self.index &lt; len(self.data):
</span></span><span class="line"><span class="cl">            result = self.data[self.index]
</span></span><span class="line"><span class="cl">            self.index += 1
</span></span><span class="line"><span class="cl">            return result
</span></span><span class="line"><span class="cl">        else:
</span></span><span class="line"><span class="cl">            raise StopIteration
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 使用迭代器
</span></span><span class="line"><span class="cl">my_iter = MyIterator([1, 2, 3])
</span></span><span class="line"><span class="cl">for item in my_iter:
</span></span><span class="line"><span class="cl">    print(item)
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>生成器</strong>（Python里最常见的<strong>yield就是协程的思想</strong>）</p>
<p>生成器是一个特殊的迭代器，通过使用 <code>yield</code> 关键字来生成值。<strong>生成器函数在每次调用 <code>yield</code> 时会暂停</strong>，<strong>并在下次调用时从暂停的地方继续执行。</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">def my_generator():
</span></span><span class="line"><span class="cl">    yield 1
</span></span><span class="line"><span class="cl">    yield 2
</span></span><span class="line"><span class="cl">    yield 3
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 使用生成器
</span></span><span class="line"><span class="cl">gen = my_generator()
</span></span><span class="line"><span class="cl">for item in gen:
</span></span><span class="line"><span class="cl">    print(item)
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="args-and-kwargs"><code>*args</code> and <code>**kwargs</code></h2>
<p><code>print_all</code> 函数接受一个必需的参数 <code>a</code><strong>，一个可变长度的位置参数（<code>*args</code>），以及一个可变长度的关键字参数（<code>**kwargs</code>）</strong>。这意味着您可以在调用此函数时传递任意数量的位置参数和关键字参数。以下是如何定义和使用 <code>print_all</code> 函数的示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">print_all</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;a:&#34;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># 打印位置参数</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">arg</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;位置参数 </span><span class="si">{</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">:&#34;</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># 打印关键字参数</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;关键字参数 </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">:&#34;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 示例用法</span>
</span></span><span class="line"><span class="cl"><span class="n">print_all</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>输出结果：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">a: 1
</span></span><span class="line"><span class="cl">位置参数 1: 2
</span></span><span class="line"><span class="cl">位置参数 2: 3
</span></span><span class="line"><span class="cl">位置参数 3: 4
</span></span><span class="line"><span class="cl">关键字参数 x: 5
</span></span><span class="line"><span class="cl">关键字参数 y: 6
</span></span><span class="line"><span class="cl">关键字参数 z: 7
</span></span></code></pre></td></tr></table>
</div>
</div><p>在这个示例中，<code>print_all</code> 函数首先打印参数 <code>a</code> 的值，<strong>然后遍历 <code>args</code> 元组以打印所有位置参数，最后遍历 <code>kwargs</code> 字典以打印所有关键字参数。</strong></p>
<h2 id="aop实现">AOP实现</h2>
<p>通过注解可以实现</p>
<h2 id="python一个类可以继承多个类继承查找顺序">python一个类可以继承多个类（继承查找顺序）</h2>
<blockquote>
<p>一个旧式类的深度优先的例子</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">class A():
</span></span><span class="line"><span class="cl">    def foo1(self):
</span></span><span class="line"><span class="cl">        print &#34;A&#34;
</span></span><span class="line"><span class="cl">class B(A):
</span></span><span class="line"><span class="cl">    def foo2(self):
</span></span><span class="line"><span class="cl">        pass
</span></span><span class="line"><span class="cl">class C(A):
</span></span><span class="line"><span class="cl">    def foo1(self):
</span></span><span class="line"><span class="cl">        print &#34;C&#34;
</span></span><span class="line"><span class="cl">class D(B, C):
</span></span><span class="line"><span class="cl">    pass
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">d = D()
</span></span><span class="line"><span class="cl">d.foo1()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># A
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>按照经典类的查找顺序<code>从左到右深度优先</code>的规则，在访问<code>d.foo1()</code>的时候,D这个类是没有的..那么往上查找,先找到B,里面没有,深度优先,访问A,找到了foo1(),所以这时候调用的是A的foo1()，从而导致C重写的foo1()被绕过</strong></p>
<p>注意：</p>
<p><strong>java不可以继承多个类，但是一个类可以实现多个接口</strong></p>
<h2 id="__new__和__init__的区别"><code>__new__</code>和<code>__init__</code>的区别</h2>
<p>这个<code>__new__</code>确实很少见到,先做了解吧.</p>
<ol>
<li><code>__new__</code>是一个静态方法,而<code>__init__</code>是一个实例方法.</li>
<li><code>__new__</code>方法会返回一个创建的实例,而<code>__init__</code>什么都不返回.</li>
<li>只有在<code>__new__</code>返回一个cls的实例时后面的<code>__init__</code>才能被调用.(<strong><code>__new__()</code>在<code>__init__()</code>之前被调用，用于生成实例对象</strong>)</li>
</ol>
<h2 id="mro与super函数">MRO与super（）函数</h2>
<p><code>super()</code> 函数用于在类的方法中调用其父类（或兄弟类）的方法。<code>super()</code> 函数可以确保在多重继承情况下，类方法的调用顺序遵循 MRO。</p>
<h3 id="mro-示例">MRO 示例</h3>
<p>以下是一个使用 MRO 的多重继承示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;A&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;B&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;C&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">D</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;D&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">d</span> <span class="o">=</span> <span class="n">D</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">d</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在这个示例中，我们有四个类：A、B、C 和 D。类 B 和 C 都继承自类 A，而类 D 则继承自类 B 和 C。当我们调用 <code>d.method()</code> 时，输出顺序将是：<code>D -&gt; B -&gt; C -&gt; A</code>。这是因为 MRO 确保在调用类 D 的方法之后，首先调用类 B 的方法（因为 D 继承自 B），然后调用类 C 的方法（因为 D 也继承自 C），最后调用类 A 的方法（因为 A 是 B 和 C 的共同父类）。</p>
<h2 id="单例">单例</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Singleton</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span><span class="err">。</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s1">&#39;_instance&#39;</span><span class="p">):</span> <span class="c1"># 如果没有，说明还没有创建实例。</span>
</span></span><span class="line"><span class="cl">            <span class="n">orig</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">Singleton</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span> <span class="c1"># 获取父类（即 object）的一个代理对象。</span>
</span></span><span class="line"><span class="cl">            <span class="bp">cls</span><span class="o">.</span><span class="n">_instance</span> <span class="o">=</span> <span class="n">orig</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span> <span class="c1"># 用父类的 __new__ 方法创建一个新实例，并将其赋值给类的 _instance 属性。</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instance</span> <span class="c1"># 返回类的唯一实例。</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 继承自单例，所以本身也是单例</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="n">Singleton</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>方案二：基于python的模块导入是一个天然的单例模式</strong></p>
<p>作为python的模块是天然的单例模式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"># mysingleton.py
</span></span><span class="line"><span class="cl">class My_Singleton(object):
</span></span><span class="line"><span class="cl">    def foo(self):
</span></span><span class="line"><span class="cl">        pass
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">my_singleton = My_Singleton()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># to use
</span></span><span class="line"><span class="cl">from mysingleton import my_singleton
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">my_singleton.foo()
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>方案3：装饰器</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">1 def singleton(cls):
</span></span><span class="line"><span class="cl">2     instances = {}
</span></span><span class="line"><span class="cl">3     
</span></span><span class="line"><span class="cl">4     def getinstance(*args, **kwargs):
</span></span><span class="line"><span class="cl">5         if cls not in instances:
</span></span><span class="line"><span class="cl">6             instances[cls] = cls(*args, **kwargs)
</span></span><span class="line"><span class="cl">7         return instances[cls]
</span></span><span class="line"><span class="cl">8     return getinstance
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="python的模块导入机制有缓存">python的模块导入机制（有缓存）</h2>
<p>在 Python 中，模块的导入机制确保每个模块只执行一次，即使它被多个其他模块导入。这是通过 <code>sys.modules</code> 字典实现的，该字典缓存了所有已经导入的模块。</p>
<p>文件内容如下：</p>
<p><strong><a href="http://a.py/" target="_blank" rel="noopener noreffer ">a.py</a></strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">print(&#34;Module a is being executed&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">def hello():
</span></span><span class="line"><span class="cl">    print(&#34;Hello from module a&#34;)
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong><a href="http://b.py/" target="_blank" rel="noopener noreffer ">b.py</a></strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import a
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong><a href="http://c.py/" target="_blank" rel="noopener noreffer ">c.py</a></strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import a
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong><a href="http://d.py/" target="_blank" rel="noopener noreffer ">d.py</a></strong>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import b
</span></span><span class="line"><span class="cl">import c
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">print(&#34;Module d is being executed&#34;)
</span></span></code></pre></td></tr></table>
</div>
</div><p>当你运行 <code>d.py</code> 时，输出将是：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">复制Module a is being executed
</span></span><span class="line"><span class="cl">Module d is being executed
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="作用域">作用域</h2>
<p>Python 中，一个变量的作用域总是由在代码中被赋值的地方所决定的。</p>
<p>当 Python 遇到一个变量的话他会按照这样的顺序进行搜索：</p>
<p><strong>本地作用域（Local）→当前作用域被嵌入的本地作用域（Enclosing locals）→全局/模块作用域（Global）→内置作用域（Built-in）</strong></p>
<h2 id="python解释器全局锁gil">python<em>解释器全局锁（GIL）</em></h2>
<p><strong>GIL 的主要目的是保护 Python 解释器的内部数据结构，特别是 CPython 的内存管理和引用计数机制。它防止多线程同时执行时出现数据竞争和其他线程安全问题。</strong></p>
<p>为了避免在多线程环境下引用计数更新时出现竞争条件，<strong>GIL 被引入来确保同一时间只有一个线程在执行 Python 代码。</strong></p>
<p><strong>跟多线程，手动加一个lock不一样，这个GIL是python这个语言的</strong></p>
<ul>
<li>
<p>GIL 是<strong>全局的</strong>，作用于整个 Python 解释器。它确保同一时间只有一个线程在<strong>执行 Python 字节码</strong>。</p>
</li>
<li>
<p><code>threading.Lock</code> 是<strong>局部的</strong>，<strong>作用于特定的代码块或资源</strong>。它用于保护共享资源，确保同一时间只有一个线程可以访问该资源。</p>
</li>
</ul>
<ol>
<li><strong>多线程性能</strong>：
<ul>
<li><strong>在多线程 CPU 密集型任务中，GIL 会导致性能瓶颈，因为同一时间只有一个线程能够执行 Python 代码</strong>。即使在多核 CPU 上，Python 也无法充分利用多核优势。</li>
<li>对于 I/O 密集型任务（如网络请求、文件读写），GIL 的影响较小，因为线程在等待 I/O 操作完成时会释放 GIL，从而允许其他线程执行。</li>
</ul>
</li>
</ol>
<p>以下是一个简单的示例，展示了 GIL 对多线程性能的影响：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">python已复制import threading
</span></span><span class="line"><span class="cl">import time
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">def cpu_bound_task():
</span></span><span class="line"><span class="cl">    start = time.time()
</span></span><span class="line"><span class="cl">    count = 0
</span></span><span class="line"><span class="cl">    while count &lt; 10**7:
</span></span><span class="line"><span class="cl">        count += 1
</span></span><span class="line"><span class="cl">    end = time.time()
</span></span><span class="line"><span class="cl">    print(f&#34;Task completed in {end - start:.2f} seconds&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 创建两个线程
</span></span><span class="line"><span class="cl">thread1 = threading.Thread(target=cpu_bound_task)
</span></span><span class="line"><span class="cl">thread2 = threading.Thread(target=cpu_bound_task)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 启动线程
</span></span><span class="line"><span class="cl">thread1.start()
</span></span><span class="line"><span class="cl">thread2.start()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"># 等待线程完成
</span></span><span class="line"><span class="cl">thread1.join()
</span></span><span class="line"><span class="cl">thread2.join()
</span></span></code></pre></td></tr></table>
</div>
</div><p>在这个示例中，两个线程都在执行一个 CPU 密集型任务。由于 GIL 的存在，两个线程不能真正并行执行，因此总的执行时间不会显著减少。</p>
<p><strong>解决方案</strong></p>
<ul>
<li><strong>多进程</strong>：
<ul>
<li>使用 <code>multiprocessing</code> 模块可以创建多个进程，每个进程都有自己的 Python 解释器和 GIL，从而可以充分利用多核 CPU。</li>
</ul>
</li>
<li><strong>其他 Python 解释器</strong>：
<ul>
<li>一些 Python 解释器没有 GIL，例如 Jython（基于 Java 的 Python 实现）和 IronPython</li>
</ul>
</li>
<li><strong>异步编程</strong>：
<ul>
<li>对于 I/O 密集型任务，使用异步编程（如 <code>asyncio</code> 模块）可以有效地提高性能，而不受 GIL 的限制。</li>
</ul>
</li>
</ul>
<h2 id="python垃圾回收机制内存管理">Python垃圾回收机制(内存管理)</h2>
<h3 id="引用计数">引用计数</h3>
<p>引用计数是 Python 内存管理的基础机制。每个对象都有一个引用计数器，记录有多少个引用指向该对象。当对象的引用计数变为零时，说明没有任何引用指向该对象，该对象就可以被回收。</p>
<h3 id="标记-清除">标记-清除</h3>
<p>上一小节提到，<strong>引用计数算法无法解决循环引用问题</strong>，循环引用的对象会导致大家的计数器永远都不会等于<code>0</code>，带来无法回收的问题。</p>
<p><code>标记-清除</code>算法主要用于潜在的循环引用问题，该算法分为2步：</p>
<blockquote>
<p>基本思路是先按需分配，等到没有空闲内存的时候<strong>从寄存器和程序栈上的引用出发，遍历以对象为节点、以引用为边构成的图，把所有可以访问到的对象打上标记，然后清扫一遍内存空间，把所有没标记的对象释放。</strong></p>
</blockquote>
<h3 id="分代技术">分代技术</h3>
<p>分代回收的整体思想是：<strong>将系统中的所有内存块根据其存活时间划分为不同的集合，每个集合就成为一个“代”，垃圾收集频率随着“代”的存活时间的增大而减小</strong>，存活时间通常利用经过几次垃圾回收来度量。</p>
<p>Python默认定义了三代对象集合，索引数越大，对象存活时间越长。</p>
<p>举例： 当某些内存块M经过了3次垃圾收集的清洗之后还存活时，我们就将内存块M划到一个集合A中去，而新分配的内存都划分到集合B中去。当垃圾收集开始工作时，大多数情况都只对集合B进行垃圾回收，而对集合A进行垃圾回收要隔相当长一段时间后才进行，这就使得垃圾收集机制需要处理的内存少了，效率自然就提高了。在这个过程中，集合B中的某些内存块由于存活时间长而会被转移到集合A中，当然，集合A中实际上也存在一些垃圾，这些垃圾的回收会因为这种分代的机制而被延迟。</p>
<h2 id="python-list对象">python list对象</h2>
<p>Python中的列表是由<strong>对其它对象的引用组成的连续数组</strong>，指向这个数组的指针及其长度被保存在一个列表头结构中。</p>
<ol>
<li><strong>动态数组</strong>：
<ul>
<li>Python 的 <code>list</code> 实际上是一个动态数组。动态数组的一个关键特性是它可以在需要时自动扩展，以容纳更多的元素。</li>
<li>当 <code>list</code> 的容量不足以容纳新元素时，Python 会分配一个更大的内存块，并将现有元素复制到新的内存块中。</li>
</ul>
</li>
<li><strong>预分配策略</strong>：
<ul>
<li>为了减少频繁的内存分配和数据复制操作，Python 的 <code>list</code> 实现采用了预分配策略。当 <code>list</code> 需要扩展时，它通常会分配比实际需要更多的内存，以便为将来的扩展预留空间。</li>
<li>这种策略使得 <code>list</code> 的扩展操作在摊销时间复杂度上是 O(1) 的。</li>
</ul>
</li>
<li><strong>内存布局</strong>：
<ul>
<li>Python 的 <code>list</code> 是一个对象数组，每个元素都是一个指向实际数据的指针。这意味着 <code>list</code> 可以存储任意类型的对象，包括其他 <code>list</code>、字典、字符串等。</li>
<li>由于 <code>list</code> 存储的是指针而不是实际数据，因此在 <code>list</code> 中存储大型对象时，内存使用效率较高。</li>
</ul>
</li>
</ol>
<h2 id="python的is">Python的is</h2>
<p>is是对比地址,==是对比值</p>
<h2 id="readreadline和readlines">read,readline和readlines</h2>
<ul>
<li>read 读取整个文件</li>
<li>readline 读取<strong>下一行</strong>,使用生成器方法</li>
<li>readlines 读取整个文件到一个<strong>迭代器</strong>以供我们遍历</li>
</ul>
<h2 id="range-and-xrange">range and xrange</h2>
<p>所以 xrange做循环的性能比range好 ，尤其是返回很大的时候，尽量用xrange吧，除非你是要返回一个列表。</p>
<h2 id="super方法">super（）方法</h2>
<p><code>super()</code> 是 Python 中一个非常有用的函数，特别是在涉及继承和多重继承时。它允许你调用父类（或基类）的方法，而不需要显式地引用父类的名字。这样做的主要好处是提高代码的可维护性和灵活性，特别是在多重继承的情况下。</p>
<p><strong>基本用法</strong></p>
<p><strong>在单继承的情况下，<code>super()</code> 可以用来调用父类的方法。例如：</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">class Parent:
</span></span><span class="line"><span class="cl">    def __init__(self):
</span></span><span class="line"><span class="cl">        print(&#34;Parent init&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">class Child(Parent):
</span></span><span class="line"><span class="cl">    def __init__(self):
</span></span><span class="line"><span class="cl">        super().__init__()  # 调用父类的 __init__ 方法
</span></span><span class="line"><span class="cl">        print(&#34;Child init&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">child = Child()
</span></span></code></pre></td></tr></table>
</div>
</div><p>在多重继承的情况下，<strong><code>super()</code> 的优势更加明显。它遵循一种称为“方法解析顺序”（MRO）的规则，确保每个类的方法只被调用一次，并且按照正确的顺序调用。</strong></p>
<p>例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">class A:
</span></span><span class="line"><span class="cl">    def __init__(self):
</span></span><span class="line"><span class="cl">        print(&#34;A init&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">class B(A):
</span></span><span class="line"><span class="cl">    def __init__(self):
</span></span><span class="line"><span class="cl">        super().__init__()
</span></span><span class="line"><span class="cl">        print(&#34;B init&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">class C(A):
</span></span><span class="line"><span class="cl">    def __init__(self):
</span></span><span class="line"><span class="cl">        super().__init__()
</span></span><span class="line"><span class="cl">        print(&#34;C init&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">class D(B, C):
</span></span><span class="line"><span class="cl">    def __init__(self):
</span></span><span class="line"><span class="cl">        super().__init__()
</span></span><span class="line"><span class="cl">        print(&#34;D init&#34;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">d = D()
</span></span></code></pre></td></tr></table>
</div>
</div><p>输出：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">A init
</span></span><span class="line"><span class="cl">C init
</span></span><span class="line"><span class="cl">B init
</span></span><span class="line"><span class="cl">D init
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="应用题">应用题</h1>
<h2 id="cpython缓存池">CPython缓存池</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">a, b, c, d = 1, 1, 1000, 1000
</span></span><span class="line"><span class="cl">True False
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>上面代码中<code>a is b</code>的结果是<code>True</code>但<code>c is d</code>的结果是<code>False</code>，这一点的确让人费解。CPython解释器出于性能优化的考虑，把频繁使用的整数对象用一个叫<code>small_ints</code>的对象池缓存起来造成的。</strong><code>small_ints</code>缓存的整数值被设定为<code>[-5, 256]</code>这个区间，也就是说，在任何引用这些整数的地方，都不需要重新创建<code>int</code>对象，而是直接引用缓存池中的对象。如果整数不在该范围内，那么即便两个整数的值相同，它们也是不同的对象。</p>
<p><strong>扩展</strong>：如果你用PyPy（另一种Python解释器实现，支持JIT，对CPython的缺点进行了改良，在性能上优于CPython，但对三方库的支持略差）来运行上面的代码，你会发现所有的输出都是True。</p>
<h2 id="闭包">闭包</h2>
<p>下面这段代码的执行结果是什么。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scss" data-lang="scss"><span class="line"><span class="cl"><span class="nt">def</span> <span class="nt">multiply</span><span class="o">()</span><span class="nd">:</span>
</span></span><span class="line"><span class="cl">    <span class="nt">return</span> <span class="o">[</span><span class="nt">lambda</span> <span class="nt">x</span><span class="nd">:</span> <span class="nt">i</span> <span class="o">*</span> <span class="nt">x</span> <span class="nt">for</span> <span class="nt">i</span> <span class="nt">in</span> <span class="nt">range</span><span class="o">(</span><span class="nt">4</span><span class="o">)]</span>
</span></span><span class="line"><span class="cl"><span class="nt">print</span><span class="o">([</span><span class="nt">m</span><span class="o">(</span><span class="nt">100</span><span class="o">)</span> <span class="nt">for</span> <span class="nt">m</span> <span class="nt">in</span> <span class="nt">multiply</span><span class="o">()])</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>这段代码的执行结果是 <code>[300, 300, 300, 300]</code>。</strong></p>
<p>为了理解为什么会这样，我们需要分析 <code>multiply</code> 函数的实现。这个函数返回一个由 <code>lambda</code> 函数组成的列表，这些 <code>lambda</code> 函数捕获了变量 <code>i</code> 的值。然而，<code>i</code> 的值在列表推导式的整个过程中都在变化。<strong>当列表推导式结束时，<code>i</code> 的值将保持为 3（因为 <code>range(4)</code> 的最后一个值是 3）。因此，所有 <code>lambda</code> 函数都捕获了相同的 <code>i</code> 值，即 3。</strong></p>
<h2 id="请解释python中with关键字的用法">请解释Python中with关键字的用法</h2>
<p>with 语句的原理:上下文管理协议(Context ManagementProtocol):</p>
<p><strong>包含方法enter ()和exit ()，支持该协议的对象要实现这两个方法。</strong></p>
<h2 id="python-内存区域">python 内存区域</h2>
<p>我们知道变量的定义会把变量值存储在内存中。其实，具体的是把</p>
<ul>
<li>
<p><strong>变量值存放在内存的堆区中，</strong></p>
</li>
<li>
<p><strong>把变量名和变量值的绑定关系存放在栈区。绑定关系就是变量名保存变量值所在的内存地址。</strong></p>
</li>
</ul>
<h4 id="直接引用--间接应用">直接引用 &amp; 间接应用</h4>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/c3ae844e26c6be8b47de199e0f6d9e19/108901b9e3a73c43a48c79f1d5ef9eae.jpeg"
        data-srcset="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/c3ae844e26c6be8b47de199e0f6d9e19/108901b9e3a73c43a48c79f1d5ef9eae.jpeg, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/c3ae844e26c6be8b47de199e0f6d9e19/108901b9e3a73c43a48c79f1d5ef9eae.jpeg 1.5x, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/c3ae844e26c6be8b47de199e0f6d9e19/108901b9e3a73c43a48c79f1d5ef9eae.jpeg 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/c3ae844e26c6be8b47de199e0f6d9e19/108901b9e3a73c43a48c79f1d5ef9eae.jpeg"
        title="img" /></p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/c3ae844e26c6be8b47de199e0f6d9e19/6389dd193cf7fac005e3163e13268794.jpeg"
        data-srcset="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/c3ae844e26c6be8b47de199e0f6d9e19/6389dd193cf7fac005e3163e13268794.jpeg, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/c3ae844e26c6be8b47de199e0f6d9e19/6389dd193cf7fac005e3163e13268794.jpeg 1.5x, https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/c3ae844e26c6be8b47de199e0f6d9e19/6389dd193cf7fac005e3163e13268794.jpeg 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/kengerlwl/kengerlwl.github.io/refs/heads/master/image/c3ae844e26c6be8b47de199e0f6d9e19/6389dd193cf7fac005e3163e13268794.jpeg"
        title="img" /></p>
<h2 id="可变数据类型于不可变数据类型">可变数据类型于不可变数据类型</h2>
<p>可变数据类型：<strong>列表list和字典dict</strong></p>
<ul>
<li>不可变数据类型，<strong>不允许变量的值发生变化，如果改变了变量的值，相当于是新建了一个对象，而对于相同的值的对象，在内存中则只有一个对象</strong>，就是不可变数据类型<strong>引用的地址的值不可改变</strong>改变对象的值，其实是引用了不同的对象</li>
</ul>
<p>不可变数据类型：<strong>整型int、浮点型float、字符串型string和元组tuple</strong></p>
<h2 id="property注解">property注解</h2>
<p>将函数变成属性来访问</p>
<p><strong>让方法属性化调用</strong></p>
<h2 id="4g内存读取8g大小文件">4G内存，读取8G大小文件</h2>
<p>基于yield和read的分块</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">def read_large_file(file_path, block_size=4 * 1024 * 1024):
</span></span><span class="line"><span class="cl">    with open(file_path, &#39;rb&#39;) as file:
</span></span><span class="line"><span class="cl">        while True:
</span></span><span class="line"><span class="cl">            data = file.read(block_size)
</span></span><span class="line"><span class="cl">            if not data:
</span></span><span class="line"><span class="cl">                break
</span></span><span class="line"><span class="cl">            yield data
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="python中为什么没有函数重载">Python中为什么没有函数重载?</h2>
<p>首<strong>先Pvthon是解释型语言，函数重载现象通常出现在编译型语言中。其次Python是动态类型语言，函数的参数没有类型约束，也就无法根据参数类型来区分重载</strong>。再者Python中函数的参数可以有默认值，可以使用可变参数和关键字参数，因此即便没有函数重载，也要可以让一个函数根据调用者传入的参数产生不同的行为。</p>
<h2 id="python和pypy的区别">Python和PyPy的区别</h2>
<p><strong>PyPy2 和 PyPy3:</strong></p>
<p>PyPy2 和 PyPy3 是 PyPy（Python <a href="https://so.csdn.net/so/search?q=%e8%a7%a3%e9%87%8a%e5%99%a8&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreffer ">解释器</a>）的不同版本，分别针对 Python 2 和 Python 3。<strong>PyPy 是一个优化和即时编译的 Python 解释器，旨在提高 Python 的性能</strong>。主要区别包括：</p>
<ul>
<li>目标版本：PyPy2 是为 Python 2 设计的，而 PyPy3 是为 Python 3 设计的。</li>
<li>兼容性：由于 PyPy2 是针对 Python 2 设计的，因此它可能不支持 Python 3 的某些特性。同样，PyPy3 可能不支持 Python 2 的某些特性。</li>
<li>性能优化：PyPy2 和 PyPy3 都试图通过即时编译和优化来提高 Python 的性能，但它们针对的 Python 版本不同，因此优化方法可能不同</li>
</ul>
<p><strong>亲测：在某次OJ，使用pypy3就pass了</strong></p>
<p><em>PyPy</em>适用于使用纯Python代码编写的程序，但是只要用到了C扩展库（如Numpy、SciPy等），它的运行<em>速度</em>不仅不会加快，反而会比使用CPython慢。</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2024-08-30</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/python%E5%85%AB%E8%82%A1%E9%A2%98/index.md" target="_blank">阅读原始文档</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://kengerlwl.github.io/python%E5%85%AB%E8%82%A1%E9%A2%98/" data-title="python八股题" data-hashtags="python"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://kengerlwl.github.io/python%E5%85%AB%E8%82%A1%E9%A2%98/" data-hashtag="python"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Hacker News" data-sharer="hackernews" data-url="https://kengerlwl.github.io/python%E5%85%AB%E8%82%A1%E9%A2%98/" data-title="python八股题"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://kengerlwl.github.io/python%E5%85%AB%E8%82%A1%E9%A2%98/" data-title="python八股题"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://kengerlwl.github.io/python%E5%85%AB%E8%82%A1%E9%A2%98/" data-title="python八股题"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/python/">Python</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%BA%95%E5%B1%82%E5%85%AB%E8%82%A1/" class="prev" rel="prev" title="大模型底层八股"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>大模型底层八股</a>
            <a href="/tokenizer%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8C%97/" class="next" rel="next" title="tokenizer使用指北">tokenizer使用指北<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="giscus" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://giscus.app">Giscus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.132.1">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://kengerlwl.github.io/" target="_blank">kenger</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":50},"comment":{"giscus":{"category":"Announcements","categoryId":"DIC_kwDOFA4dBM4Ce_0B","darkTheme":"github-dark","emitMetadata":"0","inputPosition":"bottom","lang":"zh-CN","lazyLoading":false,"lightTheme":"github-light","mapping":"pathname","reactionsEnabled":"1","repo":"kengerlwl/kengerlwl.github.io","repoId":"MDEwOlJlcG9zaXRvcnkzMzY0NjkyNTI="}},"search":{"algoliaAppID":"JCTYUNKA9R","algoliaIndex":"kenger","algoliaSearchKey":"3ef68664495033362b7df9cf5a3eee1e","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
